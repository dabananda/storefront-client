<div class="max-w-2xl mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold text-gray-900 mb-8">
    {{ isEditMode() ? 'Edit Product' : 'Add New Product' }}
  </h1>

  @if (successMessage()) {
  <div class="p-4 mb-6 bg-green-50 text-green-700 rounded-lg text-center border border-green-200">
    {{ successMessage() }}
  </div>
  }

  <form
    [formGroup]="productForm"
    (ngSubmit)="onSubmit()"
    class="space-y-6 bg-white p-8 rounded-2xl shadow-sm border border-gray-100"
  >
    <div class="grid md:grid-cols-2 gap-5">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Title</label>
        <input
          type="text"
          formControlName="title"
          class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all"
          placeholder="Product Name"
        />
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Category</label>
        <div class="relative">
          <select
            formControlName="category"
            class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all appearance-none bg-white"
          >
            <option value="" disabled>Select a category</option>
            @for (cat of categories(); track cat) {
            <option [value]="cat" class="capitalize">{{ cat }}</option>
            }
          </select>
          <div
            class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"
          >
            <svg
              class="fill-current h-4 w-4"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 20 20"
            >
              <path
                d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"
              />
            </svg>
          </div>
        </div>
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Price</label>
      <div class="relative">
        <span class="absolute left-3 top-2 text-gray-500">$</span>
        <input
          type="number"
          formControlName="price"
          class="w-full pl-8 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all"
          placeholder="0.00"
        />
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
      <textarea
        formControlName="description"
        rows="4"
        class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all"
        placeholder="Product details..."
      ></textarea>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Image URL</label>
      <input
        type="text"
        formControlName="image"
        class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all"
        placeholder="https://example.com/image.jpg"
      />
    </div>

    <button
      type="submit"
      [disabled]="productForm.invalid || isSubmitting()"
      class="w-full bg-indigo-600 text-white font-semibold py-3 px-6 rounded-xl hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-200 cursor-pointer"
    >
    {{ isSubmitting() ? 'Saving...' : (isEditMode() ? 'Update Product' : 'Save Product') }}
    </button>
  </form>
</div>
